<!DOCTYPE html>
<html>

<head>
  <script type="text/javascript">
    (function(i, s, o, g, r, a, m, n) {
      i.moengage_object = r;
      t = {};
      q = function(f) {
        return function() {
          (i.moengage_q = i.moengage_q || []).push({
            f: f,
            a: arguments
          })
        }
      };
      f = ['track_event', 'add_user_attribute', 'add_first_name', 'add_last_name', 'add_email', 'add_mobile', 'add_user_name', 'add_gender', 'add_birthday', 'destroy_session', 'add_unique_user_id', 'moe_events', 'call_web_push', 'track',
        'location_type_attribute'
      ], h = {
        onsite: ["getData", "registerCallback"]
      };
      for (k in f) {
        t[f[k]] = q(f[k])
      }
      for (k in h)
        for (l in h[k]) {
          null == t[k] && (t[k] = {}), t[k][h[k][l]] = q(k + "." + h[k][l])
        }
      a = s.createElement(o);
      m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
      i.moe = i.moe || function() {
        n = arguments[0];
        return t
      };
      a.onload = function() {
        if (n) {
          i[r] = moe(n)
        }
      }
    })(window, document, 'script', 'https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js', 'Moengage')

    Moengage = moe({
      app_id: "MMU71257AE4DRIPBS0XWKQM9",
      debug_logs: 1
    });
  </script>
  <h1> Test Form</h1>
</head>

<body>
    <table>
      <tr>
        <td> First Name: </td>
        <td> <input type="text" id="firstname" name="firstname"> </td>
      </tr>
      <tr>
        <td> Last Name: </td>
        <td> <input type="text" id="lastname" name="lastname"> </td>
      </tr>
      <tr>
        <td> Email: </td>
        <td> <input type="text" id="email" name="email"> </td>
      </tr>
      <tr>
        <td> Phone: </td>
        <td> <input type="text" id="phone" name="phone"> </td>
      </tr>
      <tr>
        <td> Age: </td>
        <td> <input type="text" id="age" name="age"> </td>
      </tr>
      <tr>
        <td> <input type="submit" id="submitbutton" class="butt" value="Submit"> </td>
      </tr>
    </table>

  <script>
    // const bttn = document.querySelector(".butt");
    // bttn.addEventListener("click", function() {
    // Moengage.add_first_name(document.getElementById("firstname").value);
    // Moengage.add_last_name(document.getElementById("lastname").value);
    // Moengage.add_email(document.getElementById("email").value);
    // Moengage.add_mobile(document.getElementById("phone").value);
    // //Moengage.add_age(document.getElementById("age").value);
    // Moengage.add_unique_user_id(document.getElementById("email").value);
    // Moengage.add_user_attribute("age", document.getElementById("age").value);
    // });

          const btn = document.getElementById("submitbutton");
          btn.addEventListener("click", function() {
              Moengage.add_first_name(document.getElementById("firstname").value);
              Moengage.add_last_name(document.getElementById("lastname").value);
              Moengage.add_email(document.getElementById("email").value);
              Moengage.add_mobile(document.getElementById("phone").value);
              //Moengage.add_age(document.getElementById("age").value);
              Moengage.add_unique_user_id(document.getElementById("email").value);
              Moengage.add_user_attribute("age", document.getElementById("age").value);
   });

            Moengage.track_event("EVENT_NAME_1"); // This event has no attributes
            // Track events with additional attributes
            Moengage.track_event("EVENT_NAME_2", {
            "attribute_1": "value_1", // string value
            "attribute_2": 2, // numeric value
            "attribute_3": 3.4, // numeric value
            "attribute_4": new Date(2017, 0, 31), // datetime value. Example value represents 31 January, 2017.
            });
  </script>
</body>

</html>
